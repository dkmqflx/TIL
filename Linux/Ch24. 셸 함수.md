
## Ch24. 공통 처리를 계속 재사용(셸 함수)

```
!#/bin/bash

hello(){
    echo "hello world"
}

hello # 함수 호출


```

```
!#/bin/bash

hello(){
    echo "my name is $1"
}

hello # 인수 사용해서 함수호출
```

```
!#/bin/bash

report(){
    source = $1
}

report marketing.log

```

```
# 함수 종료 상태를 명시적으로 지정할 대는 exit가 아닌 return을 사용한다 
# return 명령어를 사용하면 함수 실행ㅎ만 중단되고 함수를 호출한 처리로 돌아간다
# exit을 사용하면 스크립트 자체 처리 까지 도중에 중단한다
if [ $1 = "" ] 
then
    echo "인수가 필요함"
    exit 1;
fi

report(){
    if [ $1 = "" ] 
    then
        echo "인수가 필요함"
        return 1;
    fi
    }
    
```

- main 함수로 중요한 처리를 미리 정의해 두고 마지막에 호출한다 

```
!#/bin/bash

main() # 중요한 처리 내용을 최초에 정의해둠. 이 시점에서는 아직실행되지 않음
{
    report marketing.log
}

report(){ # 중요한 부분 이외를 main 함수 뒤에 정의 
    if [ $1 = "" ] 
    then
        echo "인수가 필요함"
        return 1;
    fi
    }

main # 마지막에 main함수를 한번만 호출

```


- 함수 안에서 $1이라고 하면 셸 스크립트의 인수가 아니라 함수의 인수를 참조한다 
- 셸 스크림트 자체의 인수를 함수안에서 참조하려면 함수 밖에서 일단 다른 이름의 변수로 정의 해두어야 한다 

```
#!bin/bash
target = $1

do_copy(){ 
    cp /tmp/source $target
    }
```
