- create-react-app으로 설치하게 되면  dotenv도 함께 설치된다.
- 그렇기 때문에 아래처럼 설정할 수 있는 것
- 다만, 이 때 `REACT_APP_`을 사용하고자 하는 환경 변수 앞에 써주어야 한다
    
    ```jsx
    REACT_APP_API=https://api.crossteam.co.kr/
    ```
    

- react-scripts의 명령어에 따라 .env 파일은 아래와 같은 우선순위를 가진다
    - `npm start`: `.env.development.local`, `.env.local`, `.env.development`, `.env`
    - `npm run build`: `.env.production.local`, `.env.local`, `.env.production`, `.env`
    - `npm test`: `.env.test.local`, `.env.test`, `.env` (note `.env.local` is missing)

- 배포 전 test를 하기 위한 `test` 브랜치가 있고, 이 브랜치에서 사용하는 환경 변수가 배포를 위한 `master` 브랜치에서 사용하는 환경변수와 다른 경우가 있다.
- 예를 들어 test 브랜치에서는 `.env.development` 파일을 사용하지만 master 브랜치에서는 `.env.production` 파일을 사용한다면,
- 아래와 같이 [dotenv-cli](https://www.npmjs.com/package/dotenv-cli)를 사용해서 scripts를 추가해주는 방식으로 각각의 환경에 맞게 환경변수를 사용해서 배포할 수 있다.
- scripts를 추가해준다음, 해당 명령어를 사용하는 `buildspec.yml` 파일에 각각 추가해준다 ``
    
    ```json
    // package.json
    
    "scripts": {
        "build": "react-scripts build", // master 브랜치 배포, .env.production 사용
        "build:dev": "dotenv -e .env.development react-scripts build", // test 브랜치 배포, .env.development 사용
    
      },
    ```
